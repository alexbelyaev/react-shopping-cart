{"version":3,"sources":["FavoritesMenu.js","ItemsButton.js","Item.js","OnClickOutside.js","OrderForm.js","MessageBox.js","App.js","index.js"],"names":["FavoritesMenu","totalPrice","this","props","list","length","map","item","price","reduce","sum","items","key","id","className","name","onClick","e","stopPropagation","removeAction","addToCartAction","cart","handleOrderClick","type","Component","ItemsButton","handleBtnClick","toggle","openId","Math","random","Item","actionCart","isFavorite","actionFav","OnClickOutside","setWrapperRef","bind","handleClickOutside","document","addEventListener","removeEventListener","node","wrapperRef","event","contains","target","action","ref","children","OrderForm","handleCancelClick","MessageBox","text","handleClick","App","handleToggle","setState","openMenuId","handleFavClick","i","Object","assign","state","favorites","el","findIndex","filter","handleAddToCartClick","cartId","pow","handleMessageClick","handleFormOrderClick","handleFormCancelClick","handleRemoveFromCart","push","ceil","find","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e06f33b9.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\n\r\nclass FavoritesMenu extends Component {\r\n\r\n\trender(){\r\n\r\n\t\tconst totalPrice = this.props.list.length > 0 \r\n\t\t\t? this.props.list.map(item=>item.price).reduce((sum,price)=>sum+price)\r\n\t\t\t: 0;\r\n\r\n\t\tconst items = this.props.list &&\r\n\t\t\t\t\t\tthis.props.list.map(item=>{\r\n\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t<div key={item.id} className=\"sel-items left\">\r\n\t\t\t\t\t\t\t\t<div className=\"sel-item-img\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"sel-item-title\">\r\n\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{item.price}$\r\n\t\t\t\t\t\t\t\t\t<div className=\"rem-button\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e)=>{e.stopPropagation();this.props.removeAction(item)}}>\r\n\t\t\t\t\t\t\t\t\t\tRemove\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{this.props.addToCartAction && \r\n\t\t\t\t\t\t\t\t\t\t<div className=\"rem-button\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e)=>{e.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\tthis.props.addToCartAction(item)}}>\r\n\t\t\t\t\t\t\t\t\t\tAdd to cart\r\n\t\t\t\t\t\t\t\t\t</div>}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t});\r\n\r\n\t\tconst cart = \t<div className=\"fav-menu clearfix\">\r\n\t\t\t\t\t\t\t<div className=\"flex-col\">\r\n\t\t\t\t\t\t\t\t<div className=\"fav-menu-items\">\r\n\t\t\t\t\t\t\t\t\t{items}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"fav-menu-total\">\r\n\t\t\t\t\t\t\t\t\t{totalPrice > 0 && \r\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex-total\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{`Total price: ${totalPrice}$`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"menu order-btn\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.props.handleOrderClick}>Order</div> \r\n\t\t\t\t\t\t\t\t\t\t</div>}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>;\r\n\r\n\r\n\t\treturn(\r\n\t\t\t\t<div>\r\n\t\t\t\t{this.props.type===\"cart\"\r\n\t\t\t\t\t?\tcart\r\n\t\t\t\t\t:\t<div className=\"fav-menu clearfix\">{items}</div>}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t}\r\n}\r\n\r\nexport default FavoritesMenu;","import React, {Component} from 'react';\r\nimport FavoritesMenu from './FavoritesMenu';\r\n\r\nclass ItemsButton extends Component {\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\t\r\n\t\tthis.id = Math.random();\r\n\r\n\t}\r\n\r\n\thandleBtnClick = (e)=>{\r\n\t\te.stopPropagation();\r\n\t\tthis.props.toggle(this.props.openId === this.id?'':this.id);\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t\t<button onClick={this.handleBtnClick}\r\n\t\t\t\t\tclassName={this.props.className \r\n\t\t\t\t\t\t\t\t?\"menu right relative \"+this.props.className\r\n\t\t\t\t\t\t\t\t:\"menu right relative\"}>\r\n\t\t\t\t\t{this.props.name}\r\n\t\t\t\t\t{this.props.openId === this.id \r\n\t\t\t\t\t\t&& <FavoritesMenu \r\n\t\t\t\t\t\t\t\ttype={this.props.type}\r\n\t\t\t\t\t\t\t\tlist={this.props.list}\r\n\t\t\t\t\t\t\t\tremoveAction={this.props.removeAction}\r\n\t\t\t\t\t\t\t\taddToCartAction={this.props.addToCartAction}\r\n\t\t\t\t\t\t\t\thandleOrderClick={this.props.handleOrderClick}/>}\r\n\t\t\t\t</button>\r\n\r\n\t\t\t);\r\n\t}\r\n};\r\n\r\nexport default ItemsButton;","import React, {Component} from 'react';\r\n\r\nclass Item extends Component {\r\n\r\n\trender(){\r\n\t\t\r\n\t\treturn(\r\n\t\t\t\t<div className=\"item left\">\r\n\t\t\t\t\t<div className=\"item-img\">{this.props.name}</div>\r\n\t\t\t\t\t<div className=\"item-label\">\r\n\t\t\t\t\t\t<div className=\"item-caption\">\r\n\t\t\t\t\t\t\tItem {this.props.name} Price: {this.props.price}$\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button className=\"menu\"\r\n\t\t\t\t\t\t\t\tonClick={()=>{\r\n\t\t\t\t\t\t\t\tthis.props.actionCart(\r\n\t\t\t\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t\t\t\tid: this.props.id,\r\n\t\t\t\t\t\t\t\t\t\tname: this.props.name,\r\n\t\t\t\t\t\t\t\t\t\tprice: this.props.price\r\n\t\t\t\t\t\t\t\t\t})\t\r\n\t\t\t\t\t\t\t\t}}\r\n\r\n\t\t\t\t\t\t\t\t>Add to cart</button>\r\n\t\t\t\t\t\t<button className={\r\n\t\t\t\t\t\t\tthis.props.isFavorite\r\n\t\t\t\t\t\t\t\t?\"menu heart btn-active\"\r\n\t\t\t\t\t\t\t\t:\"menu heart\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonClick={()=>{\r\n\t\t\t\t\t\t\t\tthis.props.actionFav(\r\n\t\t\t\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t\t\t\tid: this.props.id,\r\n\t\t\t\t\t\t\t\t\t\tname: this.props.name,\r\n\t\t\t\t\t\t\t\t\t\tprice: this.props.price\r\n\t\t\t\t\t\t\t\t\t})}}\r\n\t\t\t\t\t\t>{'\\u2665'}</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t}\r\n}\r\n\r\nexport default Item;","import React, { Component } from 'react';\r\n\r\n/**\r\n * Component that alerts if you click outside of it\r\n */\r\nexport default class OnClickOutside extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.setWrapperRef = this.setWrapperRef.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  /**\r\n   * Set the wrapper ref\r\n   */\r\n  setWrapperRef(node) {\r\n    this.wrapperRef = node;\r\n  }\r\n\r\n  /**\r\n   * Alert if clicked on outside of element\r\n   */\r\n  handleClickOutside(event) {\r\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\r\n      //alert('You clicked outside of me!');\r\n      this.props.action && this.props.action();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <div ref={this.setWrapperRef}>{this.props.children}</div>;\r\n  }\r\n}\r\n\r\n/*\r\nOnClickOutside.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n};\r\n*/","import React, { Component } from 'react';\r\n\r\nclass OrderForm extends Component {\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div className=\"order-form\" onClick={e=>{e.stopPropagation();}}>\r\n\t\t\t\t<div className=\"order-form-flex\">\r\n\t\t\t\t\t<div className=\"order-form-content\">\r\n\t\t\t\t\t\t<p>Name: </p>\r\n\t\t\t\t\t\t<input type=\"text\" />\r\n\t\t\t\t\t\t<div className=\"flex\">\r\n\t\t\t\t\t\t<div className=\"flex-half phone\">\r\n\t\t\t\t\t\t\t<p>Phone: </p>\r\n\t\t\t\t\t\t\t<input type=\"text\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"flex-half email\">\r\n\t\t\t\t\t\t\t<p>email: </p>\r\n\t\t\t\t\t\t\t<input type=\"text\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p>Address: </p>\r\n\t\t\t\t\t\t<input type=\"text\" />\r\n\t\t\t\t\t\t<div className=\"order-form-buttons\">\r\n\t\t\t\t\t\t<button className=\"menu\" onClick={this.props.handleCancelClick}>Cancel</button>\r\n\t\t\t\t\t\t<button className=\"menu\" onClick={this.props.handleOrderClick}>Order</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n};\r\n\r\nexport default OrderForm;","import React, { Component } from 'react';\r\n\r\nclass MessageBox extends Component {\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div className=\"order-form\" onClick={e=>{e.stopPropagation();}}>\r\n\t\t\t\t<div className=\"order-form-flex\">\r\n\t\t\t\t\t<div className=\"order-form-content\">\r\n\t\t\t\t\t\t<p className=\"message-text\">{this.props.text}</p>\r\n\t\t\t\t\t\t<div className=\"order-form-buttons\">\r\n\t\t\t\t\t\t<button className=\"menu\" onClick={this.props.handleClick}>ok</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n};\r\n\r\nexport default MessageBox;","import React, {Component} from 'react';\nimport ItemsButton from './ItemsButton';\nimport Item from './Item.js';\nimport OnClickOutside from './OnClickOutside.js';\nimport OrderForm from './OrderForm';\nimport MessageBox from './MessageBox';\n\nclass App extends Component {\n  constructor(props){\n    super(props)\n\n      this.items = [];\n      for(let i=1;i<=50;i++){\n        this.items.push({\n          name: i,\n          price: Math.ceil(Math.random()*100),\n          id: Math.random()*Math.pow(10,17)\n        });\n      }\n\n      this.state = {\n        openMenuId: '',\n        favorites: [],\n        cart: [],\n      }\n  }\n\n  handleToggle = (id)=>{\n    this.setState({openMenuId: id?id:''})\n  }\n\n  handleFavClick = (item)=>{\n\n      const i = Object.assign({}, item);\n      const index = this.state.favorites.map(\n                      (el)=>el.id).findIndex((el)=>el===i.id);\n\n      index === -1 \n        ? this.setState({favorites: [...this.state.favorites, item]})\n        : this.setState({favorites: this.state.favorites.filter(\n            (el)=>el.id !== item.id)});\n  }\n\n  handleAddToCartClick = (item)=>{ \n      const cartId = Math.random()*Math.pow(10,17);\n      let i = Object.assign({}, item);\n      i.id = cartId;\n      this.setState({cart: [...this.state.cart, i]})\n  }\n\n  handleOrderClick = (e)=>{\n    e.stopPropagation();\n    this.setState({openMenuId: 'OrderForm'});\n  }\n\n  handleMessageClick = (e)=>{\n    //e.stopPropagation();\n    this.setState({openMenuId: ''});\n  }\n\n  handleFormOrderClick = (e)=>{\n    //e.stopPropagation();\n    this.setState({openMenuId: 'MessageBox', cart: []});\n  }\n\n  handleFormCancelClick = (e)=>{\n    //e.stopPropagation();\n    this.setState({openMenuId: ''});\n  } \n\n  handleRemoveFromCart = (item)=>{\n\n      const index = this.state.cart.map(\n                      (el)=>el.id).findIndex((el)=>el===item.id);\n\n      index !== -1 \n        && this.setState({cart: this.state.cart.filter(\n            (el)=>el.id !== item.id)});\n\n  }\n\n  render(){\n    return (\n    <div className=\"app\">\n      <div className=\"top-bar clearfix\">\n          <h1 className=\"title left\">Shopping Cart</h1>\n          <OnClickOutside action={this.handleToggle}>\n          <ItemsButton  name={this.state.cart.length>0\n                              ?\"Cart \"+this.state.cart.length\n                              :\"Cart\"} \n                        className={this.state.cart.length>0\n                                  ?\"btn-active\"\n                                  :\"\"} \n            type=\"cart\"\n            openId={this.state.openMenuId}\n            toggle={this.handleToggle}\n            list={this.state.cart}\n            removeAction={this.handleRemoveFromCart}\n            handleOrderClick={this.handleOrderClick}/>\n          <ItemsButton name=\"Favorites\" \n            openId={this.state.openMenuId}\n            toggle={this.handleToggle}\n            list={this.state.favorites}\n            removeAction={this.handleFavClick}\n            addToCartAction={this.handleAddToCartClick}/>\n          {this.state.openMenuId === 'OrderForm' && \n              <OrderForm   handleOrderClick={this.handleFormOrderClick}\n                           handleCancelClick={this.handleFormCancelClick}/>}\n          {this.state.openMenuId === 'MessageBox' &&\n              <MessageBox text='Thank you for order!' handleClick={this.handleMessageClick} />}\n          </OnClickOutside>\n      </div>\n      <div className=\"content\">\n        {this.items.map(item=>{return (\n            <Item key={item.id}\n                  id={item.id}\n                  name={item.name}\n                  price={item.price} \n                  actionCart={this.handleAddToCartClick} \n                  actionFav={this.handleFavClick} \n                  isFavorite={!!this.state.favorites\n                                .map(el=>el.id)\n                                .find(el=>el===item.id)}/>\n          )}\n\n        )}\n      </div>\n    </div>\n  );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}