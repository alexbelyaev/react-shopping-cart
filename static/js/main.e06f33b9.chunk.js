(this["webpackJsonpreact-shopping-cart"]=this["webpackJsonpreact-shopping-cart"]||[]).push([[0],{10:function(e,t,a){e.exports=a(15)},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),c=a.n(i),s=a(7),o=a(1),l=a(2),m=a(4),p=a(3),d=a(5),u=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.list.length>0?this.props.list.map((function(e){return e.price})).reduce((function(e,t){return e+t})):0,a=this.props.list&&this.props.list.map((function(t){return r.a.createElement("div",{key:t.id,className:"sel-items left"},r.a.createElement("div",{className:"sel-item-img"},r.a.createElement("div",{className:"sel-item-title"},t.name),t.price,"$",r.a.createElement("div",{className:"rem-button",onClick:function(a){a.stopPropagation(),e.props.removeAction(t)}},"Remove"),e.props.addToCartAction&&r.a.createElement("div",{className:"rem-button",onClick:function(a){a.stopPropagation(),e.props.addToCartAction(t)}},"Add to cart")))})),n=r.a.createElement("div",{className:"fav-menu clearfix"},r.a.createElement("div",{className:"flex-col"},r.a.createElement("div",{className:"fav-menu-items"},a),r.a.createElement("div",{className:"fav-menu-total"},t>0&&r.a.createElement("div",{className:"flex-total"},"Total price: ".concat(t,"$"),r.a.createElement("div",{className:"menu order-btn",onClick:this.props.handleOrderClick},"Order")))));return r.a.createElement("div",null,"cart"===this.props.type?n:r.a.createElement("div",{className:"fav-menu clearfix"},a))}}]),t}(n.Component),h=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleBtnClick=function(e){e.stopPropagation(),a.props.toggle(a.props.openId===a.id?"":a.id)},a.id=Math.random(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{onClick:this.handleBtnClick,className:this.props.className?"menu right relative "+this.props.className:"menu right relative"},this.props.name,this.props.openId===this.id&&r.a.createElement(u,{type:this.props.type,list:this.props.list,removeAction:this.props.removeAction,addToCartAction:this.props.addToCartAction,handleOrderClick:this.props.handleOrderClick}))}}]),t}(n.Component),f=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"item left"},r.a.createElement("div",{className:"item-img"},this.props.name),r.a.createElement("div",{className:"item-label"},r.a.createElement("div",{className:"item-caption"},"Item ",this.props.name," Price: ",this.props.price,"$"),r.a.createElement("button",{className:"menu",onClick:function(){e.props.actionCart({id:e.props.id,name:e.props.name,price:e.props.price})}},"Add to cart"),r.a.createElement("button",{className:this.props.isFavorite?"menu heart btn-active":"menu heart",onClick:function(){e.props.actionFav({id:e.props.id,name:e.props.name,price:e.props.price})}},"\u2665")))}}]),t}(n.Component),v=a(6),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).setWrapperRef=a.setWrapperRef.bind(Object(v.a)(a)),a.handleClickOutside=a.handleClickOutside.bind(Object(v.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&this.props.action&&this.props.action()}},{key:"render",value:function(){return r.a.createElement("div",{ref:this.setWrapperRef},this.props.children)}}]),t}(n.Component),b=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"order-form",onClick:function(e){e.stopPropagation()}},r.a.createElement("div",{className:"order-form-flex"},r.a.createElement("div",{className:"order-form-content"},r.a.createElement("p",null,"Name: "),r.a.createElement("input",{type:"text"}),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"flex-half phone"},r.a.createElement("p",null,"Phone: "),r.a.createElement("input",{type:"text"})),r.a.createElement("div",{className:"flex-half email"},r.a.createElement("p",null,"email: "),r.a.createElement("input",{type:"text"}))),r.a.createElement("p",null,"Address: "),r.a.createElement("input",{type:"text"}),r.a.createElement("div",{className:"order-form-buttons"},r.a.createElement("button",{className:"menu",onClick:this.props.handleCancelClick},"Cancel"),r.a.createElement("button",{className:"menu",onClick:this.props.handleOrderClick},"Order")))))}}]),t}(n.Component),O=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"order-form",onClick:function(e){e.stopPropagation()}},r.a.createElement("div",{className:"order-form-flex"},r.a.createElement("div",{className:"order-form-content"},r.a.createElement("p",{className:"message-text"},this.props.text),r.a.createElement("div",{className:"order-form-buttons"},r.a.createElement("button",{className:"menu",onClick:this.props.handleClick},"ok")))))}}]),t}(n.Component),k=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleToggle=function(e){a.setState({openMenuId:e||""})},a.handleFavClick=function(e){var t=Object.assign({},e);-1===a.state.favorites.map((function(e){return e.id})).findIndex((function(e){return e===t.id}))?a.setState({favorites:[].concat(Object(s.a)(a.state.favorites),[e])}):a.setState({favorites:a.state.favorites.filter((function(t){return t.id!==e.id}))})},a.handleAddToCartClick=function(e){var t=Math.random()*Math.pow(10,17),n=Object.assign({},e);n.id=t,a.setState({cart:[].concat(Object(s.a)(a.state.cart),[n])})},a.handleOrderClick=function(e){e.stopPropagation(),a.setState({openMenuId:"OrderForm"})},a.handleMessageClick=function(e){a.setState({openMenuId:""})},a.handleFormOrderClick=function(e){a.setState({openMenuId:"MessageBox",cart:[]})},a.handleFormCancelClick=function(e){a.setState({openMenuId:""})},a.handleRemoveFromCart=function(e){-1!==a.state.cart.map((function(e){return e.id})).findIndex((function(t){return t===e.id}))&&a.setState({cart:a.state.cart.filter((function(t){return t.id!==e.id}))})},a.items=[];for(var n=1;n<=50;n++)a.items.push({name:n,price:Math.ceil(100*Math.random()),id:Math.random()*Math.pow(10,17)});return a.state={openMenuId:"",favorites:[],cart:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"top-bar clearfix"},r.a.createElement("h1",{className:"title left"},"Shopping Cart"),r.a.createElement(C,{action:this.handleToggle},r.a.createElement(h,{name:this.state.cart.length>0?"Cart "+this.state.cart.length:"Cart",className:this.state.cart.length>0?"btn-active":"",type:"cart",openId:this.state.openMenuId,toggle:this.handleToggle,list:this.state.cart,removeAction:this.handleRemoveFromCart,handleOrderClick:this.handleOrderClick}),r.a.createElement(h,{name:"Favorites",openId:this.state.openMenuId,toggle:this.handleToggle,list:this.state.favorites,removeAction:this.handleFavClick,addToCartAction:this.handleAddToCartClick}),"OrderForm"===this.state.openMenuId&&r.a.createElement(b,{handleOrderClick:this.handleFormOrderClick,handleCancelClick:this.handleFormCancelClick}),"MessageBox"===this.state.openMenuId&&r.a.createElement(O,{text:"Thank you for order!",handleClick:this.handleMessageClick}))),r.a.createElement("div",{className:"content"},this.items.map((function(t){return r.a.createElement(f,{key:t.id,id:t.id,name:t.name,price:t.price,actionCart:e.handleAddToCartClick,actionFav:e.handleFavClick,isFavorite:!!e.state.favorites.map((function(e){return e.id})).find((function(e){return e===t.id}))})}))))}}]),t}(n.Component);c.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.e06f33b9.chunk.js.map