(this["webpackJsonpreact-shopping-cart"]=this["webpackJsonpreact-shopping-cart"]||[]).push([[0],{10:function(e,t,a){e.exports=a(15)},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),c=a.n(i),s=a(7),o=a(1),l=a(2),m=a(4),d=a(3),u=a(5),p=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.list.length>0?this.props.list.map((function(e){return e.price})).reduce((function(e,t){return e+t})):0,a=this.props.list&&this.props.list.map((function(t){return r.a.createElement("div",{key:t.id,className:"sel-items left"},r.a.createElement("div",{className:"sel-item-img",style:{background:t.color}},r.a.createElement("div",{className:"sel-item-title"},t.name),r.a.createElement("div",{className:"item-price-label"},t.price,"$"),r.a.createElement("div",{className:"rem-button",onClick:function(a){a.stopPropagation(),e.props.removeAction(t)}},"Remove"),e.props.addToCartAction&&r.a.createElement("div",{className:"rem-button",onClick:function(a){a.stopPropagation(),e.props.addToCartAction(t)}},"Add to cart")))})),n=r.a.createElement("div",{className:"fav-menu clearfix shadow"},r.a.createElement("div",{className:"flex-col"},r.a.createElement("div",{className:"fav-menu-items"},a),r.a.createElement("div",{className:"fav-menu-total"},t>0&&r.a.createElement("div",{className:"flex-total"},"Total price: ".concat(t,"$"),r.a.createElement("div",{className:"menu order-btn",onClick:this.props.handleOrderClick},"Order")))));return r.a.createElement("div",null,"cart"===this.props.type?n:r.a.createElement("div",{className:"fav-menu clearfix shadow"},a))}}]),t}(n.Component),h=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleBtnClick=function(e){e.stopPropagation(),a.props.toggle(a.props.openId===a.id?"":a.id)},a.id=Math.random(),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{onClick:this.handleBtnClick,className:this.props.className?"menu right relative "+this.props.className:"menu right relative"},this.props.name,this.props.openId===this.id&&r.a.createElement(p,{type:this.props.type,list:this.props.list,removeAction:this.props.removeAction,addToCartAction:this.props.addToCartAction,handleOrderClick:this.props.handleOrderClick}))}}]),t}(n.Component),f=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.item;return r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"item-img"},r.a.createElement("div",{className:"item-color",style:{background:t.color}},t.name)),r.a.createElement("div",{className:"item-label"},r.a.createElement("div",{className:"item-caption"},"Item ",t.name," Price: ",t.price,"$"),r.a.createElement("button",{className:"menu add-to-cart",onClick:function(){e.props.actionCart({id:t.id,name:t.name,price:t.price,color:t.color})}},"Add to cart"),r.a.createElement("button",{className:this.props.isFavorite?"menu heart btn-active":"menu heart",onClick:function(){e.props.actionFav({id:t.id,name:t.name,price:t.price,color:t.color})}},"\u2665")))}}]),t}(n.Component),v=a(6),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).setWrapperRef=a.setWrapperRef.bind(Object(v.a)(a)),a.handleClickOutside=a.handleClickOutside.bind(Object(v.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&this.props.action&&this.props.action()}},{key:"render",value:function(){return r.a.createElement("div",{ref:this.setWrapperRef},this.props.children)}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(){a.setState({name:a.name.current.value.trim(),phone:a.phone.current.value.trim(),email:a.email.current.value.trim(),address:a.address.current.value.trim(),submitted:!0}),a.name.current.value.trim()&&a.phone.current.value.trim()&&a.email.current.value.trim()&&a.address.current.value.trim()&&a.props.handleOrderClick()},a.name=r.a.createRef(),a.phone=r.a.createRef(),a.email=r.a.createRef(),a.address=r.a.createRef(),a.state={name:"",phone:"",email:"",address:"",submitted:!1},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"order-form",onClick:function(e){e.stopPropagation()}},r.a.createElement("div",{className:"order-form-flex"},r.a.createElement("div",{className:"order-form-content shadow"},r.a.createElement("p",null,"Name: "),r.a.createElement("input",{type:"text",ref:this.name,className:!this.state.name&&this.state.submitted?"red-border":""}),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"flex-half phone"},r.a.createElement("p",null,"Phone: "),r.a.createElement("input",{type:"text",ref:this.phone,className:!this.state.phone&&this.state.submitted?"red-border":""})),r.a.createElement("div",{className:"flex-half email"},r.a.createElement("p",null,"email: "),r.a.createElement("input",{type:"text",ref:this.email,className:!this.state.email&&this.state.submitted?"red-border":""}))),r.a.createElement("p",null,"Address: "),r.a.createElement("input",{type:"text",ref:this.address,className:!this.state.address&&this.state.submitted?"red-border":""}),r.a.createElement("div",{className:"order-form-buttons"},r.a.createElement("button",{className:"menu",onClick:this.props.handleCancelClick},"Cancel"),r.a.createElement("button",{className:"menu",onClick:this.handleSubmit},"Order")))))}}]),t}(n.Component),E=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"order-form",onClick:function(e){e.stopPropagation()}},r.a.createElement("div",{className:"order-form-flex"},r.a.createElement("div",{className:"order-form-content shadow"},r.a.createElement("p",{className:"message-text"},this.props.text),r.a.createElement("div",{className:"order-form-buttons"},r.a.createElement("button",{className:"menu",onClick:this.props.handleClick},"ok")))))}}]),t}(n.Component),k=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleToggle=function(e){a.setState({openMenuId:e||""})},a.getRandomColor=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},a.handleCatClick=function(e){a.setState({displayItems:e?JSON.parse(JSON.stringify(a.items.filter((function(t){return t.categoryId===e})))):JSON.parse(JSON.stringify(a.items))})},a.handleFavClick=function(e){var t=Object.assign({},e);-1===a.state.favorites.map((function(e){return e.id})).findIndex((function(e){return e===t.id}))?a.setState({favorites:[].concat(Object(s.a)(a.state.favorites),[e])}):a.setState({favorites:a.state.favorites.filter((function(t){return t.id!==e.id}))})},a.handleAddToCartClick=function(e){var t=Math.random()*Math.pow(10,17),n=Object.assign({},e);n.id=t,a.setState({cart:[].concat(Object(s.a)(a.state.cart),[n])})},a.handleOrderClick=function(e){e.stopPropagation(),a.setState({openMenuId:"OrderForm"})},a.handleMessageClick=function(e){a.setState({openMenuId:""})},a.handleFormOrderClick=function(e){a.setState({openMenuId:"MessageBox",cart:[]})},a.handleFormCancelClick=function(e){a.setState({openMenuId:""})},a.handleRemoveFromCart=function(e){-1!==a.state.cart.map((function(e){return e.id})).findIndex((function(t){return t===e.id}))&&a.setState({cart:a.state.cart.filter((function(t){return t.id!==e.id}))})},a.items=[];for(var n=1;n<=100;n++)a.items.push({name:n,color:a.getRandomColor(),price:Math.ceil(100*Math.random()),id:Math.random()*Math.pow(10,17),categoryId:Math.ceil(15*Math.random())});return a.state={openMenuId:"",favorites:[],cart:[],displayItems:JSON.parse(JSON.stringify(a.items))},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"top-bar clearfix"},r.a.createElement("h1",{className:"title left"},"Shopping Cart"),r.a.createElement(C,{action:this.handleToggle},r.a.createElement(h,{name:this.state.cart.length>0?"Cart "+this.state.cart.length:"Cart",className:this.state.cart.length>0?"btn-active":"",type:"cart",openId:this.state.openMenuId,toggle:this.handleToggle,list:this.state.cart,removeAction:this.handleRemoveFromCart,handleOrderClick:this.handleOrderClick}),r.a.createElement(h,{name:"Favorites",openId:this.state.openMenuId,toggle:this.handleToggle,list:this.state.favorites,removeAction:this.handleFavClick,addToCartAction:this.handleAddToCartClick}),"OrderForm"===this.state.openMenuId&&r.a.createElement(b,{handleOrderClick:this.handleFormOrderClick,handleCancelClick:this.handleFormCancelClick}),"MessageBox"===this.state.openMenuId&&r.a.createElement(E,{text:"Thank you for order!",handleClick:this.handleMessageClick}))),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"sidebar"},r.a.createElement("ul",{className:"categories"},r.a.createElement("li",{onClick:function(){e.handleCatClick()}},"All Items"),Object(s.a)(new Set(this.items.map((function(e){return e.categoryId})))).sort((function(e,t){return e-t})).map((function(t){return r.a.createElement("li",{key:t,onClick:function(){e.handleCatClick(t)}},"Category ".concat(t),r.a.createElement("span",{className:"count"},"[",e.items.filter((function(e){return e.categoryId===t})).length,"]"))})))),r.a.createElement("div",{className:"content"},this.state.displayItems.map((function(t){return r.a.createElement(f,{key:t.id,item:t,actionCart:e.handleAddToCartClick,actionFav:e.handleFavClick,isFavorite:!!e.state.favorites.map((function(e){return e.id})).find((function(e){return e===t.id}))})})))))}}]),t}(n.Component);c.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.ce51e556.chunk.js.map